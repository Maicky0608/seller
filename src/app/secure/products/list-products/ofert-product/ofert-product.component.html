<form #createOfertExpandetProduct="ngForm" [formGroup]="ofertProduct" *ngIf="ofertProduct" fxLayout.xs="column" class="form-ofert">
  <div fxLayout="row" fxLayoutAlign="space-around center" fxLayout.xs="column">
    <div fxFlex="28%" class="ofert-information">
      <mat-form-field color="primary" fxFlex="80%">
        <mat-icon matPrefix>list_alt</mat-icon>
        <input matInput placeholder="Inventario" formControlName="Stock" [errorStateMatcher]="matcher">
        <mat-hint></mat-hint>
        <mat-error *ngIf="ofertProduct.get('Stock').hasError('pattern')" [innerHTML]="'Inventario inválido'"></mat-error>
        <mat-error *ngIf="ofertProduct.get('Stock').hasError('required')" [innerHTML]="'Inventario es campo obligatorio'"></mat-error>
      </mat-form-field>
    </div>
    <div fxFlex="28%" class="ofert-information">
      <mat-form-field color="primary" fxFlex="80%">
        <mat-icon matPrefix>attach_money</mat-icon>
        <input matInput placeholder="Precio" formControlName="Price" [errorStateMatcher]="matcher">
        <mat-hint></mat-hint>
        <mat-error *ngIf="ofertProduct.get('Price').hasError('pattern')" [innerHTML]="'Precio inválido'"></mat-error>
        <mat-error *ngIf="ofertProduct.get('Price').hasError('required')" [innerHTML]="'Precio es campo obligatorio'"></mat-error>
      </mat-form-field>
    </div>
    <div fxFlex="28%" class="ofert-information">
      <mat-form-field color="primary" fxFlex="80%">
        <mat-icon matPrefix>attach_money</mat-icon>
        <input matInput placeholder="Precio con descuento" formControlName="DiscountPrice" [errorStateMatcher]="matcher">
        <mat-hint></mat-hint>
        <mat-error *ngIf="ofertProduct.get('DiscountPrice').hasError('pattern')" [innerHTML]="'Precio con descuento inválido'"></mat-error>
      </mat-form-field>
    </div>
  </div>
  <div fxLayout="row" fxLayoutAlign="space-around center" fxLayout.xs="column">
    <div fxFlex="28%" class="ofert-information">
      <mat-form-field color="primary" fxFlex="80%">
        <mat-icon matPrefix>local_shipping</mat-icon>
        <input matInput placeholder="Promesa de entrega" formControlName="PromiseDelivery" [errorStateMatcher]="matcher">
        <mat-hint></mat-hint>
        <mat-error *ngIf="ofertProduct.get('PromiseDelivery').hasError('pattern')" [innerHTML]="'Promesa de entrega inválido'"></mat-error>
        <mat-error *ngIf="ofertProduct.get('PromiseDelivery').hasError('required')" [innerHTML]="'Promesaes campo obligatorio'"></mat-error>
      </mat-form-field>
    </div>
    <div fxFlex="28%" class="ofert-information">
      <mat-form-field color="primary" fxFlex="80%">
        <mat-icon matPrefix>attach_money</mat-icon>
        <input matInput placeholder="Costo flete" formControlName="IsFreightCalculator" [errorStateMatcher]="matcher">
        <mat-hint></mat-hint>
        <mat-error *ngIf="ofertProduct.get('IsFreightCalculator').hasError('pattern')" [innerHTML]="'Costo de flete inválido'"></mat-error>
        <mat-error *ngIf="ofertProduct.get('IsFreightCalculator').hasError('required')" [innerHTML]="'Costo de flete es campo obligatorio'"></mat-error>
      </mat-form-field>
    </div>
    <div fxFlex="28%" class="ofert-information">
      <mat-form-field color="primary" fxFlex="80%">
        <mat-icon matPrefix>beenhere</mat-icon>
        <input matInput placeholder="Garantía" formControlName="Warranty" [errorStateMatcher]="matcher">
        <mat-hint></mat-hint>
        <mat-error *ngIf="ofertProduct.get('Warranty').hasError('pattern')" [innerHTML]="'Garantía inválida'"></mat-error>
        <mat-error *ngIf="ofertProduct.get('Warranty').hasError('required')" [innerHTML]="'Garantía es campo obligatorio'"></mat-error>
      </mat-form-field>
    </div>
  </div>

  <div fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-evenly center" class="ofert-option">
    <div style="width: 100%">
      <mat-radio-group formControlName="ofertOption">
        <mat-radio-button value="shiping" class="radio-ofert">Free Shiping</mat-radio-button>
        <mat-radio-button value="indicator" class="radio-ofert">Indicador Envíos Éxito</mat-radio-button>
        <mat-radio-button value="flete" class="radio-ofert">Cotizador flete</mat-radio-button>
        <mat-radio-button value="logistics" class="radio-ofert">Logística Éxito</mat-radio-button>
      </mat-radio-group>
    </div>
    <div style="padding-right: 100px;">
      <mat-slide-toggle formControlName="UpdatedStock">
        Actualización de inventario
      </mat-slide-toggle>
    </div>
  </div>

  <!--Aqui van los componentes del producto si es Combo-->
  <div class="container"  fxLayout.xs="column" fxLayoutAlign.xs="space-around center" *ngIf="applyOffer.eanesCombos.length !== 0">
      <div class="ofert-component">
          <ng-container class="container-sub" *ngFor="let comp of Combos.controls">
            <div class="info-product" fxShow.xs="true">
              <ng-container [formGroup]="comp">
                  <div>
                    <h3>{{comp.get('nameCombo').value}}</h3>
                  </div>  
                  <div class="ofert-information">
                      <mat-form-field color="primary">
                        <mat-icon matPrefix>attach_money</mat-icon>
                        <input matInput placeholder="Precio" formControlName="ofertPriceComponet" [errorStateMatcher]="matcher">
                        <mat-hint></mat-hint>
                      <mat-error *ngIf="comp.get('ofertPriceComponet').hasError('pattern')" [innerHTML]="'Precio EAN combo inválido'"></mat-error>
                      </mat-form-field>
                    </div>
                    <div class="ofert-information">
                      <mat-form-field color="primary">
                        <mat-icon matPrefix>add_shopping_cart</mat-icon>
                        <input matInput placeholder="Cantidad en combo" formControlName="ComboQuantity" [errorStateMatcher]="matcher">
                        <mat-hint></mat-hint>
                        <mat-error *ngIf="comp.get('ComboQuantity').hasError('pattern')" [innerHTML]="'Cantidad EAN combo inválida'"></mat-error>
                      </mat-form-field>
                    </div>
              </ng-container>
            </div>
          </ng-container>                  
        </div>
  </div>

  <div fxLayout="row" fxLayoutAlign="center" class="buttonsSend">
    <button mat-stroked-button color="primary" type="button" [innerHTML]="'Cancelar'"></button>
    <button mat-flat-button color="primary" type="submit" [innerHTML]="'Ofertar'" (click)="sendJsonInformation()"></button>
  </div>
</form>
