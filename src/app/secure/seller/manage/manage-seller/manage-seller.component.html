<div class="tree-content">
  <div class="header-tree-categories">
    <h1>{{currentSellerSelect.Name}}</h1>
  </div>

  <!-- Componente empleado cuando no se posee una tienda seleccionada -->
  <div *ngIf="currentSellerSelect.Name === ''" class="no-content-component">
    <div class="icon-face">
      <mat-icon>face</mat-icon>
    </div>
    <p>Ingresa el nombre del vendedor en la barra de b&uacute;squeda para ver los datos.</p>
  </div>

  <!-- Componente que se visualiza cuando se ha indicado una tienda para consultar -->
  <div *ngIf="currentSellerSelect.Name != ''">
    <form #registerSeller="ngForm" [formGroup]="validateFormRegister" autocomplete="off" id="register-form-seller">
      <div fxLayout="row" fxLayout.xs="column" fxLayout.sm="column" fxLayoutAlign="space-between" fxLayoutGap.md="10%" fxLayoutGap.lg="10%"
        fxLayoutGap.xs="0" fxLayoutGap.sm="0%">

        <div fxFlex="50%">
          <mat-form-field class="register" style="width:100% !important">
            <input matInput placeholder="NIT" formControlName="Nit" id="register-nit" (ngModelChange)="activeButton = false" [readonly]="true"
              required>
          </mat-form-field>
        </div>

        <div fxFlex="50%">
          <mat-form-field class="register" style="width:100% !important;">
            <input matInput placeholder="RUT" (keypress)="keyPress($event)" maxlength="20" formControlName="Rut" [errorStateMatcher]="matcher"
              id="register-rut" required>
            <mat-hint></mat-hint>

            <mat-error id="error-rut-required" *ngIf="validateFormRegister.get('Rut').hasError('required')" [innerHTML]="'Este campo es requerido.'"></mat-error>

            <mat-error id="error-rut-invalid" *ngIf="validateFormRegister.get('Rut').hasError('maxlength') || validateFormRegister.get('Rut').hasError('pattern')"
              [innerHTML]="'El rut no es v&aacute;lido.'">
            </mat-error>
          </mat-form-field>
        </div>

      </div>
      <div fxLayout="row" fxLayout.xs="column" fxLayout.sm="column" fxLayoutAlign="space-between" fxLayoutGap.md="10%" fxLayoutGap.lg="10%"
        fxLayoutGap.xs="0" fxLayoutGap.sm="0%">

        <div fxFlex="50%">
          <mat-form-field class="register" style="width:100% !important;">
            <input matInput appNoSpaces formControlName="ContactName" placeholder="Contacto (nombre y apellido)" [errorStateMatcher]="matcher"
              id="register-contact-name" required>
            <mat-hint></mat-hint>

            <mat-error id="error-contact-name-required" *ngIf="validateFormRegister.get('ContactName').hasError('required'); else invalidContactName"
              [innerHTML]="'Este campo es requerido.'"></mat-error>

            <ng-template #invalidContactName>
              <mat-error id="error-contact-name-invalid" *ngIf="validateFormRegister.get('ContactName').hasError('pattern') || !validateFormRegister.get('ContactName').pristine || !validateFormRegister.get('ContactName').valid"
                [innerHTML]="'El contacto no es v&aacute;lido.'"></mat-error>
            </ng-template>
          </mat-form-field>
        </div>

        <div fxFlex="50%">
          <mat-form-field class="register" style="width:100% !important;">
            <input matInput placeholder="Correo electr&oacute;nico" formControlName="Email" [errorStateMatcher]="matcher" id="register-email"
              (ngModelChange)="activeButton = false" (blur)="validateExist($event, 'Email')" required>
            <mat-hint></mat-hint>

            <mat-error id="error-email-required" *ngIf="validateFormRegister.get('Email').hasError('required')" [innerHTML]="'Este campo es requerido.'"></mat-error>
            <mat-error id="error-email-invalid" *ngIf="validateFormRegister.get('Email').hasError('pattern')" [innerHTML]="'El correo electr&oacute;nico no es v&aacute;lido.'"></mat-error>
            <mat-error id="error-email-exist" *ngIf="validateFormRegister.get('Email').hasError('validExistEmailDB')" [innerHTML]="'El correo electrÃ³nico ya existe.'"></mat-error>
          </mat-form-field>
        </div>

      </div>
      <div fxLayout="row" fxLayout.xs="column" fxLayout.sm="column" fxLayoutAlign="space-between" fxLayoutGap.md="10%" fxLayoutGap.lg="10%"
        fxLayoutGap.xl="10%" fxLayoutGap.xs="0" fxLayoutGap.sm="0%">

        <div fxFlex="50%">
          <mat-form-field class="register" style="width:100% !important;">
            <input matInput placeholder="Tel&eacute;fono" pattern="^[0-9]*$" maxlength="10" minlength="7" formControlName="PhoneNumber"
              [errorStateMatcher]="matcher" (keypress)="keyPress($event)" id="register-phone-number" required>
            <mat-hint></mat-hint>

            <mat-error id="error-phone-number-required" *ngIf="validateFormRegister.get('PhoneNumber').hasError('required')" [innerHTML]="'Este campo es requerido.'"></mat-error>
            <mat-error id="error-phone-number-invalid" *ngIf="validateFormRegister.get('PhoneNumber').hasError('maxlength') || validateFormRegister.get('PhoneNumber').hasError('pattern') || validateFormRegister.get('PhoneNumber').hasError('minlength')"
              [innerHTML]="'El tel&eacute;fono no es v&aacute;lido.'"></mat-error>
          </mat-form-field>
        </div>

        <div fxFlex="50%">
          <mat-form-field class="register" style="width:100% !important;">
            <input matInput appNoSpaces placeholder="Direcci&oacute;n de facturaci&oacute;n" formControlName="Address" [errorStateMatcher]="matcher"
              id="register-address" required>
            <mat-hint></mat-hint>
            <mat-error id="error-address-required" *ngIf="validateFormRegister.get('Address').hasError('required') || (!validateFormRegister.get('Address').valid && !validateFormRegister.get('Address').pristine)"
              [innerHTML]="'Este campo es requerido.'"></mat-error>
          </mat-form-field>
        </div>
      </div>
      <div fxLayout="row" fxLayout.xs="column" fxLayout.sm="column" fxLayoutAlign="space-between" fxLayoutGap.md="10%" fxLayoutGap.lg="10%"
        fxLayoutGap.xs="0" fxLayoutGap.sm="0%">

        <div fxFlex="50%">
          <mat-form-field class="register" style="width:100% !important;">
            <input matInput placeholder="C&oacute;digo DANE" [readonly]="true" formControlName="DaneCode" id="register-dane-code" required>
          </mat-form-field>
        </div>

        <div fxFlex="50%">
          <mat-form-field class="register" style="width:100% !important;">
            <input matInput placeholder="Nombre de la tienda" (blur)="validateExist($event, 'Name')" formControlName="Name" [errorStateMatcher]="matcher"
              id="register-name-store" (ngModelChange)="activeButton = false" required>
            <mat-hint></mat-hint>
            <mat-error id="error-name-store-required" *ngIf="validateFormRegister.get('Name').hasError('required')" [innerHTML]="'Este campo es requerido.'"></mat-error>
            <mat-error id="error-name-store-invalid" *ngIf="validateFormRegister.get('Name').hasError('pattern')" [innerHTML]="'El nombre de tienda no es v&aacute;lido.'"></mat-error>
            <mat-error id="error-name-store-exist" *ngIf="validateFormRegister.get('Name').hasError('validExistNameDB')" [innerHTML]="'El nombre de tienda ya existe.'"></mat-error>
          </mat-form-field>
        </div>

      </div>
      <div fxLayout="row" fxLayout.xs="column" fxLayout.sm="column" fxLayoutAlign="space-between" fxLayoutGap.md="10%" fxLayoutGap.lg="10%"
        fxLayoutGap.xs="0" fxLayoutGap.sm="0%">
        <div fxFlex="100%">
          <div fxLayout="column" fxLayout.xs="column" fxLayout.sm="column" fxLayoutGap.md="20px" fxLayoutGap.lg="20px" fxLayoutGap.xs="2%"
            fxLayoutGap.sm="2%">
            <mat-slide-toggle id="register-is-logistc-exito" formControlName="IsLogisticsExito">Vendedor Log&iacute;stica
              &Eacute;xito
            </mat-slide-toggle>
            <mat-slide-toggle id="register-is-shipping-exito" formControlName="IsShippingExito">Vendedor Env&iacute;os &Eacute;xito
            </mat-slide-toggle>
          </div>

        </div>

        <div fxFlex="50%">
          <h4 [innerHTML]="'Visualizaci&oacute;n del vendedor'"></h4>

          <div fxLayout="row" fxLayout.xs="column" fxLayout.sm="column" fxLayoutGap.md="20px" fxLayoutGap.lg="20px" fxLayoutGap.xs="2%"
            fxLayoutGap.sm="2%">
            <mat-card class="imageRegisterSeller">
              <img mat-card-image [src]="validateFormRegister.value.GotoExito ? imagesRegister[0].checked : imagesRegister[0].unchecked">
              <mat-card-actions class="register-actions-right">
                <mat-checkbox id="register-go-exito" formControlName="GotoExito"></mat-checkbox>
              </mat-card-actions>
            </mat-card>
            <mat-card class="imageRegisterSeller">
              <img mat-card-image [src]="validateFormRegister.value.GotoCarrulla ? imagesRegister[1].checked : imagesRegister[1].unchecked">
              <mat-card-actions class="register-actions-right">
                <mat-checkbox id="register-go-carulla" formControlName="GotoCarrulla"></mat-checkbox>
              </mat-card-actions>
            </mat-card>
            <mat-card class="imageRegisterSeller">
              <img mat-card-image [src]="validateFormRegister.value.GotoCatalogo ? imagesRegister[2].checked : imagesRegister[2].unchecked">
              <mat-card-actions class="register-actions-right">
                <mat-checkbox id="register-go-catalogo" formControlName="GotoCatalogo"></mat-checkbox>
              </mat-card-actions>
            </mat-card>
          </div>
        </div>
      </div>

      <pre>{{validateFormRegister.value | json}}</pre>
      <div class="container" fxLayoutAlign="center" fxLayoutGap="10px" fxLayoutGap.xs="0">
        <button id="register-send-form" class="button-seller-register" type="submit" mat-raised-button color="primary" [innerHTML]="'REGISTRAR'"
          [disabled]="!registerSeller.form.valid || disabledForService || !activeButton"></button>
      </div>
    </form>
  </div>
</div>