<mat-drawer-container style="height: 80%;" class="drawer-container" [hasBackdrop]="true">
  <mat-drawer #drawer [mode]="'over'" [position]="'end'" class="example-sidenav" [disableClose]="true">
    <form class="basic-info" [formGroup]="filterBrands" class="brands-filter-sidenav">
      <div fxLayout="row" fxLayoutAlign="space-between center">
        <h3>Filtro Marcas</h3>
        <button id="closeMenuApplication" type="button" color="primary" matTooltip="Cerrar" matTooltipPosition="below"
          mat-icon-button mat-button (click)="drawer.toggle()">
          <mat-icon>clear</mat-icon>
        </button>
      </div>
      <div fxLayout="column" fxLayoutAlign="space-between" fxLayout.xs="column">
        <mat-form-field color="primary">
          <input matInput placeholder="ID" formControlName="filterBrandsId" [errorStateMatcher]="matcher">
          <mat-hint></mat-hint>
          <mat-error *ngIf="filterBrands.get('filterBrandsId').hasError('pattern')" [innerHTML]="'Id invalido'">
          </mat-error>
        </mat-form-field>
        <mat-form-field color="primary">
          <input matInput placeholder="Nombre de la marca" formControlName="filterBrandsName"
            [errorStateMatcher]="matcher">
          <mat-hint></mat-hint>
          <mat-error *ngIf="filterBrands.get('filterBrandsName').hasError('pattern')"
            [innerHTML]="'Nombre de la marca invalido'"></mat-error>
        </mat-form-field>
        <div fxLayout="row" fxLayoutAlign="space-between center" class="buttonsSend">
          <button mat-stroked-button color="primary" type="button" [innerHTML]="'Limpiar'"
            (click)="cleanAllFilter()"></button>
          <button mat-flat-button color="primary" type="submit" [innerHTML]="'Filtrar'"
            (click)="filterApply(drawer)"></button>
        </div>
      </div>
    </form>
  </mat-drawer>

  <div class="height-full">
    <mat-toolbar class="tree-toolbar">
      <div class="normal-theme toolbar-options-table" fxLayout="row" fxLayoutAlign="space-between center">
        <p class="parameterize-brands-title" fxShow [fxShow.xs]="false">
          Parametrización
          <small class="sub-title">| Listado de marcas</small>
        </p>
        <p class="parameterize-brands-title" fxShow="false" [fxShow.xs]="true">
          Listado de marcas
        </p>
        <div class="hide-page">
          <mat-paginator [length]="length" [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions"
            (page)="pageEvent = changePaginatorBrands($event)"></mat-paginator>
        </div>
      </div>
      <button type="button" mat-button (click)="drawer.toggle()">
        <mat-icon>filter_list</mat-icon>
        <small class="sub-title-filter" [innerHTML]="'Filtrar'"></small>
      </button>
    </mat-toolbar>
  </div>
  <div fxLayout="column">
    <div class="listBrands">
      <div class="brands-button-add">
        <div id="addButton" class="container-group-add-button">
          <button mat-button *ngIf="canCreate && canRead" (click)="upsetBrands()">
            <mat-icon class="material-icons">
              control_point
            </mat-icon>
            Agregar marca
          </button>
        </div>
      </div>
      <table matSort (matSortChange)="sortData($event)" class="table mat-table">
        <tr class="mat-header-row">
          <th mat-sort-header="id" style="font-weight: inherit; font-size: 14px;"
            class="mat-header-cell cdk-column-position mat-column-position mat-style-tr">ID</th>
          <th mat-sort-header="name" style="font-weight: inherit; font-size: 14px;"
            class="mat-header-cell cdk-column-position mat-column-position mat-style-tr">Nombre de la marca</th>
          <th style="font-weight: inherit; font-size: 14px;"
            class="mat-header-cell cdk-column-position mat-column-position mat-style-tr">Estado</th>
          <th style="font-weight: inherit; font-size: 14px;"
            class="mat-header-cell cdk-column-position mat-column-position mat-style-tr">Acciones</th>
        </tr>
        <tr style="height: 56px;" *ngFor="let brand of sortedData" class="mat-row">
          <td class="mat-cell mat-style-td">{{brand.id}}</td>
          <td class="mat-cell mat-style-td">{{brand.name}}</td>
          <td class="mat-cell mat-style-td">
            <section class="example-section">
              <mat-slide-toggle class="example-margin" [color]="color" id="id_slide_toggle_{{brand.id}}"
                (click)="changeStatusBrands($event, brand)"
                [matTooltip]="brand.status == true ? 'Desactivar' : 'activar'" [checked]=brand.status>
              </mat-slide-toggle>
            </section>
          </td>
          <td class="mat-cell mat-style-td">
            <button mat-icon-button matTooltip="Editar" *ngIf="canUpdate" (click)="upsetBrands(brand)">
              <mat-icon class="edit-profile material-icons">create</mat-icon>
            </button>
          </td>
        </tr>
      </table>
      <div *ngIf="!sortedData" class="brands-table-null">
        <label class="">
          No se han encontrado marcas registradas
        </label>
      </div>
    </div>
    <div *ngIf="!canRead" class="brands-not-permission">
      <div class="brands-permission">
        <label>No posee permisos para visualizar el listado.</label>
      </div>
      <div class="brands-permission brands-icon-permission">
        <mat-icon class="material-icons">
          visibility_off
        </mat-icon>
      </div>
    </div>
  </div>
</mat-drawer-container>
<ng-template #dialogContent>
  <form [formGroup]="form" class="full-width brands-modal-margin">
    <mat-form-field class="half-width">
      <input matInput placeholder="Nombre de la marca" style="text-transform: uppercase;" formControlName="nameBrands"
        [errorStateMatcher]="matcher" (blur)="validateExist($event)" required>
      <mat-error *ngIf="form.get('nameBrands').hasError('required')" [innerHTML]="'Este campo es requerido'">
      </mat-error>
      <mat-error *ngIf="form.get('nameBrands').hasError('pattern')" [innerHTML]="'Formato inválido'"></mat-error>
      <mat-error *ngIf="form.controls.nameBrands.errors && form.controls.nameBrands.errors.validExistBrandsDB"
        [innerHTML]="'La marca ya existe'"></mat-error>
    </mat-form-field>
    <div class="brands-position-option">
      <button type="button" mat-button color="primary" (click)="onNoClick()">CANCELAR</button>
      <button type="submit" mat-raised-button color="primary" class="brands-position-option-cancel"
        (click)="confirmation()" [disabled]="form && form.invalid || validateExit">ACEPTAR</button>
    </div>
  </form>
</ng-template>